# ETFç½‘æ ¼è®¾è®¡é¡¹ç›®å‰ç«¯é‡æ„ - Phase 04: æ¸…ç†é—ç•™ä»£ç å’Œæ–‡ä»¶

## æ”¹é€ èƒŒæ™¯

å‰ä¸‰ä¸ªé˜¶æ®µçš„é‡æ„å·²ç»å®Œæˆäº†å·¥å…·å‡½æ•°æå–ã€ç»„ä»¶æ‹†åˆ†å’Œç›®å½•ç»“æ„ä¼˜åŒ–ï¼Œé¡¹ç›®æ¶æ„å¾—åˆ°äº†æ˜¾è‘—æ”¹å–„ã€‚ä½†æ˜¯é‡æ„è¿‡ç¨‹ä¸­ä¸ºäº†ä¿è¯åŠŸèƒ½ç¨³å®šæ€§å’Œå¯å›æ»šæ€§ï¼Œä¿ç•™äº†å¤§é‡çš„é—ç•™ä»£ç ã€æ–‡ä»¶å’Œä¸´æ—¶å…¼å®¹é€»è¾‘ï¼š

- **é‡å¤ä»£ç æ®‹ç•™**ï¼šæ—§çš„æ ¼å¼åŒ–å‡½æ•°ã€åˆ†äº«é€»è¾‘ç­‰ä»ç„¶å­˜åœ¨äºåŸç»„ä»¶ä¸­
- **åºŸå¼ƒæ–‡ä»¶æ®‹ç•™**ï¼šè¢«ç§»åŠ¨æˆ–é‡æ„çš„æ–‡ä»¶å¯èƒ½ä»å­˜åœ¨äºæ—§ä½ç½®
- **ä¸´æ—¶å…¼å®¹ä»£ç **ï¼šé‡æ„è¿‡ç¨‹ä¸­æ·»åŠ çš„ä¸´æ—¶å¯¼å…¥è·¯å¾„å’Œå…¼å®¹é€»è¾‘
- **è¿‡æ—¶çš„æ³¨é‡Šå’ŒTODO**ï¼šé‡æ„å‰çš„æ³¨é‡Šå’Œæ ‡è®°å·²ç»ä¸å†é€‚ç”¨
- **æœªä½¿ç”¨çš„ä¾èµ–**ï¼šå¯èƒ½å­˜åœ¨ä¸å†ä½¿ç”¨çš„npmåŒ…å’Œå¯¼å…¥
- **é…ç½®æ–‡ä»¶å†—ä½™**ï¼šé‡æ„è¿‡ç¨‹ä¸­å¯èƒ½äº§ç”Ÿçš„é…ç½®æ–‡ä»¶å†—ä½™
- **å¼€å‘è°ƒè¯•ä»£ç **ï¼šé‡æ„è¿‡ç¨‹ä¸­æ·»åŠ çš„console.logå’Œè°ƒè¯•ä»£ç 

è¿™äº›é—ç•™é—®é¢˜å½±å“ï¼š
1. ä»£ç æ•´æ´æ€§ï¼šå¤§é‡å†—ä½™ä»£ç å½±å“å¯è¯»æ€§
2. ç»´æŠ¤æˆæœ¬ï¼šæ··æ·†çš„ä»£ç é€»è¾‘å¢åŠ ç»´æŠ¤éš¾åº¦
3. æ€§èƒ½é—®é¢˜ï¼šæœªä½¿ç”¨çš„ä»£ç å¢åŠ æ‰“åŒ…ä½“ç§¯
4. å¼€å‘ä½“éªŒï¼šè¿‡æ—¶ä¿¡æ¯è¯¯å¯¼å¼€å‘è€…

## å½“å‰é˜¶æ®µ

**Phase 04: æ¸…ç†é—ç•™ä»£ç å’Œæ–‡ä»¶**
- é¢„è®¡è€—æ—¶ï¼š1å¤©
- é£é™©ç­‰çº§ï¼šğŸŸ¡ ä¸­é£é™©
- ä¼˜å…ˆçº§ï¼šé«˜
- å‰ç½®æ¡ä»¶ï¼šPhase 01ã€02ã€03 å·²å®Œæˆä¸”åŠŸèƒ½éªŒè¯é€šè¿‡

## æœ¬æ¬¡æ”¹é€ ç›®æ ‡

1. **æ¸…ç†é‡å¤ä»£ç **ï¼šç§»é™¤æ‰€æœ‰é‡æ„åäº§ç”Ÿçš„é‡å¤å®ç°
2. **åˆ é™¤åºŸå¼ƒæ–‡ä»¶**ï¼šæ¸…ç†ä¸å†ä½¿ç”¨çš„æ–‡ä»¶å’Œç›®å½•
3. **ç§»é™¤ä¸´æ—¶ä»£ç **ï¼šæ¸…ç†é‡æ„è¿‡ç¨‹ä¸­çš„ä¸´æ—¶å…¼å®¹é€»è¾‘
4. **ä¼˜åŒ–å¯¼å…¥ä¾èµ–**ï¼šç§»é™¤æœªä½¿ç”¨çš„å¯¼å…¥å’Œä¾èµ–åŒ…
5. **ä»£ç æ ¼å¼ä¼˜åŒ–**ï¼šç»Ÿä¸€ä»£ç é£æ ¼å’Œæ ¼å¼
6. **æ–‡æ¡£æ›´æ–°å®Œå–„**ï¼šæ›´æ–°æ‰€æœ‰ç›¸å…³æ–‡æ¡£å’Œæ³¨é‡Š

## æœ¬æ¬¡æ”¹é€ çš„è¯¦ç»†è®¡åˆ’

### Step 1: æ¸…ç†é‡å¤ä»£ç å®ç°

#### 1.1 æ¸…ç†æ ¼å¼åŒ–å‡½æ•°é‡å¤å®ç°
**æ£€æŸ¥å¹¶æ¸…ç†ä»¥ä¸‹æ–‡ä»¶ä¸­çš„é‡å¤æ ¼å¼åŒ–å‡½æ•°**ï¼š

```bash
# æ£€æŸ¥å¹¶ç§»é™¤ GridParametersCard.jsx ä¸­çš„é‡å¤å‡½æ•°
# åŸæœ‰çš„ formatAmount, formatPercent, formatDate å‡½æ•°åº”è¯¥å·²è¢«æ›¿æ¢ä¸ºå¯¼å…¥çš„å…±äº«å‡½æ•°
```

**åœ¨ `frontend/src/features/analysis/components/ReportCards/GridParametersCard.jsx` ä¸­**ï¼š
```javascript
// âŒ åˆ é™¤è¿™äº›é‡å¤çš„å‡½æ•°å®šä¹‰
/*
const formatAmount = (amount) => {
  return new Intl.NumberFormat('zh-CN', {
    style: 'currency',
    currency: 'CNY',
    minimumFractionDigits: 0,
    maximumFractionDigits: 0
  }).format(amount);
};

const formatPercent = (value) => {
  return (value * 100).toFixed(2) + '%';
};

const formatDate = (dateStr) => {
  // ... é‡å¤å®ç°
};
*/

// âœ… ç¡®ä¿ä½¿ç”¨å¯¼å…¥çš„å…±äº«å‡½æ•°
import { formatCurrency, formatPercent, formatDate } from '@shared/utils';
```

#### 1.2 æ¸…ç†åˆ†äº«åŠŸèƒ½é‡å¤å®ç°
**æ¸…ç† `frontend/src/pages/AnalysisPage/AnalysisPage.jsx` å’Œ `frontend/src/features/analysis/components/AnalysisReport.jsx` ä¸­çš„é‡å¤åˆ†äº«é€»è¾‘**ï¼š

```javascript
// âŒ åˆ é™¤è¿™äº›é‡å¤çš„åˆ†äº«å‡½æ•°å®ç°
/*
const handleShare = async () => {
  const shareData = { ... };
  
  // ä¼˜å…ˆä½¿ç”¨Web Share API
  if (navigator.share && navigator.canShare && navigator.canShare(shareData)) {
    try {
      await navigator.share(shareData);
      return;
    } catch (error) {
      console.log('åˆ†äº«å–æ¶ˆæˆ–å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ:', error);
    }
  }
  
  // å¤‡ç”¨æ–¹æ¡ˆï¼šå¤åˆ¶é“¾æ¥åˆ°å‰ªè´´æ¿
  // ... é‡å¤å®ç°
};
*/

// âœ… ç¡®ä¿ä½¿ç”¨å…±äº«Hook
import { useShare } from '@shared/hooks';
const { shareContent } = useShare();
```

#### 1.3 æ¸…ç†éªŒè¯é€»è¾‘é‡å¤å®ç°
**æ¸…ç† `frontend/src/features/analysis/components/ParameterForm.jsx` ä¸­çš„é‡å¤éªŒè¯é€»è¾‘**ï¼š

```javascript
// âŒ åˆ é™¤é‡å¤çš„éªŒè¯å‡½æ•°
/*
const validateForm = () => {
  const newErrors = {};

  if (!etfCode || etfCode.length !== 6 || !/^\d{6}$/.test(etfCode)) {
    newErrors.etfCode = 'è¯·è¾“å…¥6ä½æ•°å­—ETFä»£ç ';
  }

  const capital = parseFloat(totalCapital);
  if (!totalCapital || isNaN(capital) || capital < 100000 || capital > 5000000) {
    newErrors.totalCapital = 'æŠ•èµ„é‡‘é¢åº”åœ¨10ä¸‡-500ä¸‡ä¹‹é—´';
  }
  
  // ... å…¶ä»–éªŒè¯é€»è¾‘
};
*/

// âœ… ç¡®ä¿ä½¿ç”¨å¯¼å…¥çš„å…±äº«éªŒè¯å‡½æ•°
import { validateETFCode, validateCapital } from '@shared/utils/validation';
```

### Step 2: åˆ é™¤åºŸå¼ƒæ–‡ä»¶å’Œç›®å½•

#### 2.1 è¯†åˆ«å¹¶åˆ é™¤åºŸå¼ƒæ–‡ä»¶
```bash
# æ£€æŸ¥è¿™äº›å¯èƒ½çš„åºŸå¼ƒæ–‡ä»¶å’Œç›®å½•
find frontend/src -name "*.jsx.backup" -delete
find frontend/src -name "*.js.old" -delete
find frontend/src -type d -empty -delete

# æ£€æŸ¥å¹¶åˆ é™¤å¯èƒ½æ®‹ç•™çš„æ—§ç»„ä»¶æ–‡ä»¶
# æ³¨æ„ï¼šåªæœ‰åœ¨ç¡®è®¤æ–°ä½ç½®çš„æ–‡ä»¶æ­£å¸¸å·¥ä½œåæ‰åˆ é™¤
```

#### 2.2 æ¸…ç†ç©ºç›®å½•å’Œä¸´æ—¶æ–‡ä»¶
```bash
# åˆ é™¤ç©ºç›®å½•
find frontend/src -type d -empty -delete

# æ¸…ç†å¯èƒ½çš„ä¸´æ—¶æ–‡ä»¶
rm -f frontend/src/components/.DS_Store
rm -f frontend/src/**/Thumbs.db
rm -f frontend/src/**/.gitkeep
```

#### 2.3 æ£€æŸ¥å¹¶æ¸…ç†æœªå¼•ç”¨çš„æ–‡ä»¶
**åˆ›å»ºè„šæœ¬æ£€æŸ¥æœªä½¿ç”¨çš„æ–‡ä»¶**ï¼š

```javascript
// frontend/scripts/find-unused-files.js
const fs = require('fs');
const path = require('path');
const glob = require('glob');

function findUnusedFiles() {
  // è·å–æ‰€æœ‰æºæ–‡ä»¶
  const allFiles = glob.sync('frontend/src/**/*.{js,jsx,ts,tsx}');
  const usedFiles = new Set();
  
  // æ ‡è®°å…¥å£æ–‡ä»¶
  usedFiles.add('frontend/src/main.jsx');
  usedFiles.add('frontend/src/App.jsx');
  
  // é€’å½’æŸ¥æ‰¾è¢«å¼•ç”¨çš„æ–‡ä»¶
  function markUsedFiles(filePath) {
    if (usedFiles.has(filePath)) return;
    usedFiles.add(filePath);
    
    try {
      const content = fs.readFileSync(filePath, 'utf8');
      const imports = content.match(/import.*?from\s+['"](.+?)['"];?/g) || [];
      
      imports.forEach(imp => {
        const match = imp.match(/from\s+['"](.+?)['"];?/);
        if (match) {
          let importPath = match[1];
          
          // å¤„ç†ç›¸å¯¹è·¯å¾„
          if (importPath.startsWith('.')) {
            importPath = path.resolve(path.dirname(filePath), importPath);
          }
          
          // å¤„ç†åˆ«åè·¯å¾„
          if (importPath.startsWith('@')) {
            importPath = importPath.replace('@', 'frontend/src');
          }
          
          // æ·»åŠ æ–‡ä»¶æ‰©å±•å
          const extensions = ['.js', '.jsx', '.ts', '.tsx'];
          for (const ext of extensions) {
            const fullPath = importPath + ext;
            if (fs.existsSync(fullPath)) {
              markUsedFiles(fullPath);
              break;
            }
          }
        }
      });
    } catch (error) {
      console.warn(`Error processing ${filePath}:`, error.message);
    }
  }
  
  // ä»å…¥å£å¼€å§‹æ ‡è®°
  usedFiles.forEach(file => markUsedFiles(file));
  
  // æ‰¾å‡ºæœªä½¿ç”¨çš„æ–‡ä»¶
  const unusedFiles = allFiles.filter(file => !usedFiles.has(file));
  
  console.log('æœªä½¿ç”¨çš„æ–‡ä»¶:');
  unusedFiles.forEach(file => console.log(`  ${file}`));
  
  return unusedFiles;
}

findUnusedFiles();
```

### Step 3: ç§»é™¤ä¸´æ—¶å…¼å®¹ä»£ç 

#### 3.1 æ¸…ç†ä¸´æ—¶å¯¼å…¥é‡å®šå‘
**æ£€æŸ¥å¹¶ç§»é™¤ç±»ä¼¼è¿™æ ·çš„ä¸´æ—¶å…¼å®¹ä»£ç **ï¼š

```javascript
// âŒ åˆ é™¤ä¸´æ—¶çš„é‡å®šå‘å¯¼å‡º
// components/AnalysisReport.jsx
/*
export { default } from '../features/analysis/components/AnalysisReport';
*/

// âŒ åˆ é™¤ä¸´æ—¶çš„è·¯å¾„æ˜ å°„
/*
// ä¸´æ—¶å…¼å®¹æ—§çš„å¯¼å…¥è·¯å¾„
import OldComponent from './components/OldComponent';
export { OldComponent as NewComponent };
*/
```

#### 3.2 æ¸…ç†è°ƒè¯•å’Œå¼€å‘ä»£ç 
```bash
# æœç´¢å¹¶ç§»é™¤è°ƒè¯•ä»£ç 
grep -r "console.log\|console.warn\|console.error\|debugger" frontend/src --include="*.js" --include="*.jsx"

# æœç´¢å¹¶ç§»é™¤TODOæ³¨é‡Šï¼ˆéœ€è¦æ‰‹åŠ¨reviewï¼‰
grep -r "TODO\|FIXME\|HACK\|XXX" frontend/src --include="*.js" --include="*.jsx"
```

**æ‰‹åŠ¨æ¸…ç†ç¤ºä¾‹**ï¼š
```javascript
// âŒ åˆ é™¤è°ƒè¯•ä»£ç 
// console.log('Debug: Component mounted');
// console.warn('TODO: Optimize this function');
// debugger; // ä¸´æ—¶è°ƒè¯•ç”¨

// âŒ åˆ é™¤è¿‡æ—¶çš„æ³¨é‡Š
/*
// æ—§çš„å®ç°æ–¹å¼ - å·²åœ¨Phase 02ä¸­é‡æ„
const handleAnalysisOld = () => {
  // ...
};
*/

// âŒ åˆ é™¤è¿‡æ—¶çš„TODO
// TODO: é‡æ„è¿™ä¸ªç»„ä»¶ - å·²åœ¨Phase 02å®Œæˆ
```

### Step 4: ä¼˜åŒ–å¯¼å…¥ä¾èµ–

#### 4.1 æ£€æŸ¥æœªä½¿ç”¨çš„å¯¼å…¥
**åˆ›å»ºè„šæœ¬æ£€æŸ¥æœªä½¿ç”¨çš„å¯¼å…¥**ï¼š

```javascript
// frontend/scripts/find-unused-imports.js
const fs = require('fs');
const glob = require('glob');

function findUnusedImports() {
  const files = glob.sync('frontend/src/**/*.{js,jsx}');
  
  files.forEach(file => {
    const content = fs.readFileSync(file, 'utf8');
    const lines = content.split('\n');
    
    // æå–å¯¼å…¥çš„æ ‡è¯†ç¬¦
    const imports = [];
    const importRegex = /import\s+(?:{([^}]+)}|\*\s+as\s+(\w+)|(\w+))\s+from/g;
    
    let match;
    while ((match = importRegex.exec(content)) !== null) {
      if (match[1]) {
        // å‘½åå¯¼å…¥ {a, b, c}
        const namedImports = match[1].split(',').map(s => s.trim().split(' as ')[0]);
        imports.push(...namedImports);
      } else if (match[2]) {
        // å‘½åç©ºé—´å¯¼å…¥ * as something
        imports.push(match[2]);
      } else if (match[3]) {
        // é»˜è®¤å¯¼å…¥
        imports.push(match[3]);
      }
    }
    
    // æ£€æŸ¥æ¯ä¸ªå¯¼å…¥æ˜¯å¦è¢«ä½¿ç”¨
    const unusedImports = imports.filter(imp => {
      const usage = new RegExp(`\\b${imp}\\b`, 'g');
      const matches = content.match(usage) || [];
      return matches.length <= 1; // åªåœ¨importè¡Œå‡ºç°
    });
    
    if (unusedImports.length > 0) {
      console.log(`${file}:`);
      unusedImports.forEach(imp => console.log(`  æœªä½¿ç”¨çš„å¯¼å…¥: ${imp}`));
    }
  });
}

findUnusedImports();
```

#### 4.2 æ£€æŸ¥æœªä½¿ç”¨çš„npmä¾èµ–
```bash
# å®‰è£…ä¾èµ–æ£€æŸ¥å·¥å…·
npm install -g depcheck

# æ£€æŸ¥æœªä½¿ç”¨çš„ä¾èµ–
cd frontend && depcheck

# æ ¹æ®æŠ¥å‘Šç§»é™¤æœªä½¿ç”¨çš„ä¾èµ–
# npm uninstall <unused-package>
```

### Step 5: ä»£ç æ ¼å¼å’Œé£æ ¼ä¼˜åŒ–

#### 5.1 ç»Ÿä¸€ä»£ç æ ¼å¼
```bash
# ä½¿ç”¨Prettieræ ¼å¼åŒ–æ‰€æœ‰ä»£ç 
cd frontend && npx prettier --write "src/**/*.{js,jsx,ts,tsx,json,css,md}"

# ä½¿ç”¨ESLintä¿®å¤å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜
cd frontend && npx eslint "src/**/*.{js,jsx}" --fix
```

#### 5.2 ä¼˜åŒ–å¯¼å…¥é¡ºåº
**é…ç½®eslint-plugin-importè§„åˆ™**ï¼š

```javascript
// .eslintrc.js
module.exports = {
  plugins: ['import'],
  rules: {
    'import/order': [
      'error',
      {
        groups: [
          'builtin',   // Node.jså†…ç½®æ¨¡å—
          'external',  // npmåŒ…
          'internal',  // å†…éƒ¨åˆ«åè·¯å¾„
          'parent',    // çˆ¶ç›®å½•
          'sibling',   // åŒçº§ç›®å½•
          'index'      // å½“å‰ç›®å½•index
        ],
        'newlines-between': 'always',
        alphabetize: {
          order: 'asc',
          caseInsensitive: true
        }
      }
    ]
  }
};
```

#### 5.3 æ·»åŠ æ–‡ä»¶å¤´æ³¨é‡Šæ¨¡æ¿
```javascript
// ä¸ºæ‰€æœ‰ç»„ä»¶æ–‡ä»¶æ·»åŠ ç»Ÿä¸€çš„æ–‡ä»¶å¤´
/**
 * @fileoverview [ç»„ä»¶åç§°] - [ç®€çŸ­æè¿°]
 * @author ETFer.Top Team
 * @created 2024
 * @updated 2024 Phase 04 é‡æ„
 */
```

### Step 6: æ–‡æ¡£å’Œé…ç½®æ›´æ–°

#### 6.1 æ›´æ–°READMEæ–‡æ¡£
**æ›´æ–° `frontend/README.md`**ï¼š

```markdown
# ETFç½‘æ ¼è®¾è®¡ç³»ç»Ÿ - å‰ç«¯

## é¡¹ç›®ç»“æ„

```
frontend/src/
â”œâ”€â”€ app/                          # åº”ç”¨ç¨‹åºçº§é…ç½®
â”‚   â”œâ”€â”€ AppRouter.jsx            # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ AppLayout.jsx            # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ AppHeader.jsx            # å¤´éƒ¨ç»„ä»¶
â”œâ”€â”€ pages/                       # é¡µé¢çº§ç»„ä»¶
â”‚   â”œâ”€â”€ HomePage/                # é¦–é¡µ
â”‚   â””â”€â”€ AnalysisPage/            # åˆ†æé¡µé¢
â”œâ”€â”€ features/                    # ä¸šåŠ¡åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ analysis/                # åˆ†æåŠŸèƒ½
â”‚   â”œâ”€â”€ etf/                     # ETFç›¸å…³åŠŸèƒ½
â”‚   â””â”€â”€ history/                 # å†å²è®°å½•åŠŸèƒ½
â”œâ”€â”€ shared/                      # å…±äº«èµ„æº
â”‚   â”œâ”€â”€ components/              # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ services/                # APIæœåŠ¡
â”‚   â””â”€â”€ constants/               # å¸¸é‡å®šä¹‰
â””â”€â”€ assets/                      # é™æ€èµ„æº
```

## å¼€å‘è§„èŒƒ

### å¯¼å…¥è·¯å¾„
- ä½¿ç”¨åˆ«åè·¯å¾„ï¼š`@shared/utils`, `@features/analysis`
- é¿å…å¤æ‚çš„ç›¸å¯¹è·¯å¾„ï¼š`../../../shared/utils`

### ç»„ä»¶è§„èŒƒ
- æ¯ä¸ªç»„ä»¶æ–‡ä»¶åŒ…å«å•ä¸€ç»„ä»¶
- ä½¿ç”¨JSDocæ³¨é‡Šæè¿°ç»„ä»¶åŠŸèƒ½
- Propsä½¿ç”¨PropTypesæˆ–TypeScriptå®šä¹‰

### ä»£ç é£æ ¼
- ä½¿ç”¨Prettierè¿›è¡Œä»£ç æ ¼å¼åŒ–
- éµå¾ªESLintè§„åˆ™
- ç»Ÿä¸€çš„æ–‡ä»¶å‘½åï¼šPascalCase for components, camelCase for utils
```

#### 6.2 æ›´æ–°package.jsonè„šæœ¬
```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "lint": "eslint src --ext js,jsx --report-unused-disable-directives --max-warnings 0",
    "lint:fix": "eslint src --ext js,jsx --fix",
    "format": "prettier --write \"src/**/*.{js,jsx,json,css,md}\"",
    "check-unused": "node scripts/find-unused-files.js",
    "clean": "rm -rf dist node_modules/.cache"
  }
}
```

#### 6.3 æ›´æ–°.gitignore
```gitignore
# æ·»åŠ æ–°çš„å¿½ç•¥è§„åˆ™
.DS_Store
Thumbs.db
*.log
.vscode/
.idea/

# æ„å»ºäº§ç‰©
dist/
build/

# ä¸´æ—¶æ–‡ä»¶
*.tmp
*.bak
*.backup

# å¼€å‘å·¥å…·ç¼“å­˜
node_modules/.cache/
.eslintcache
```

### Step 7: æœ€ç»ˆéªŒè¯å’Œæµ‹è¯•

#### 7.1 æ„å»ºæµ‹è¯•
```bash
# ç¡®ä¿æ¸…ç†åé¡¹ç›®å¯ä»¥æ­£å¸¸æ„å»º
cd frontend && npm run build

# æ£€æŸ¥æ„å»ºäº§ç‰©å¤§å°
du -sh frontend/dist
```

#### 7.2 åŠŸèƒ½å›å½’æµ‹è¯•
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
cd frontend && npm run dev

# æµ‹è¯•æ¸…å•
- [ ] é¦–é¡µåŠ è½½æ­£å¸¸
- [ ] å‚æ•°è¾“å…¥åŠŸèƒ½æ­£å¸¸
- [ ] ETFä¿¡æ¯æ˜¾ç¤ºæ­£å¸¸
- [ ] åˆ†æé¡µé¢åŠŸèƒ½æ­£å¸¸
- [ ] æŠ¥å‘Šå±•ç¤ºåŠŸèƒ½æ­£å¸¸
- [ ] åˆ†äº«åŠŸèƒ½æ­£å¸¸
- [ ] å†å²è®°å½•åŠŸèƒ½æ­£å¸¸
- [ ] å“åº”å¼å¸ƒå±€æ­£å¸¸
```

#### 7.3 æ€§èƒ½æµ‹è¯•
```bash
# ä½¿ç”¨Lighthouseæµ‹è¯•æ€§èƒ½
npm install -g lighthouse
lighthouse http://localhost:5173 --output html --output-path ./lighthouse-report.html

# æ£€æŸ¥å…³é”®æŒ‡æ ‡
- First Contentful Paint < 2s
- Largest Contentful Paint < 4s
- Time to Interactive < 5s
- Cumulative Layout Shift < 0.1
```

## æ‰§è¡Œçº¦æŸ

### å®‰å…¨çº¦æŸ
1. **å¤‡ä»½é‡è¦æ–‡ä»¶**ï¼šåœ¨åˆ é™¤ä»»ä½•æ–‡ä»¶å‰å¿…é¡»ç¡®è®¤å·²æœ‰å¤‡ä»½
2. **åˆ†æ­¥éªŒè¯**ï¼šæ¯ä¸ªæ¸…ç†æ­¥éª¤åéƒ½è¦éªŒè¯åŠŸèƒ½æ­£å¸¸
3. **å¯å›æ»šæ€§**ï¼šæ¯ä¸ªæ¸…ç†æ“ä½œéƒ½è¦èƒ½å¤Ÿå›æ»š
4. **å›¢é˜Ÿç¡®è®¤**ï¼šåˆ é™¤é‡è¦æ–‡ä»¶å‰éœ€è¦å›¢é˜Ÿæˆå‘˜ç¡®è®¤

### åŠŸèƒ½çº¦æŸ
1. **é›¶åŠŸèƒ½æŸå¤±**ï¼šæ¸…ç†è¿‡ç¨‹ä¸å¾—ç ´åä»»ä½•ç°æœ‰åŠŸèƒ½
2. **æ€§èƒ½ä¿æŒ**ï¼šæ¸…ç†åæ€§èƒ½åº”ä¼˜äºæˆ–ç­‰äºæ¸…ç†å‰
3. **å…¼å®¹æ€§ç»´æŒ**ï¼šæµè§ˆå™¨å…¼å®¹æ€§ä¸å¾—é™ä½
4. **ç”¨æˆ·ä½“éªŒä¸å˜**ï¼šç”¨æˆ·ç•Œé¢å’Œäº¤äº’ä½“éªŒä¿æŒä¸€è‡´

### ä»£ç è´¨é‡çº¦æŸ
1. **æ ‡å‡†åŒ–æ ¼å¼**ï¼šæ‰€æœ‰ä»£ç å¿…é¡»ç¬¦åˆé¡¹ç›®æ ¼å¼è§„èŒƒ
2. **å®Œæ•´æ–‡æ¡£**ï¼šæ‰€æœ‰å…¬å…±å‡½æ•°å’Œç»„ä»¶å¿…é¡»æœ‰æ–‡æ¡£æ³¨é‡Š
3. **æ¸…æ™°ç»“æ„**ï¼šåˆ é™¤å†—ä½™ä»£ç åç»“æ„æ›´åŠ æ¸…æ™°
4. **å¯ç»´æŠ¤æ€§æå‡**ï¼šä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§å¾—åˆ°æ”¹å–„

### å·¥å…·çº¦æŸ
1. **è‡ªåŠ¨åŒ–æ£€æŸ¥**ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ£€æŸ¥æœªä½¿ç”¨çš„ä»£ç 
2. **é™æ€åˆ†æ**ï¼šä½¿ç”¨ESLintç­‰å·¥å…·è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥
3. **æ ¼å¼åŒ–ä¸€è‡´**ï¼šä½¿ç”¨Prettierç¡®ä¿ä»£ç æ ¼å¼ä¸€è‡´
4. **ä¾èµ–ä¼˜åŒ–**ï¼šç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½æ˜¯å¿…éœ€çš„

## éªŒæ”¶æ ‡å‡†

### ä»£ç æ¸…æ´åº¦éªŒæ”¶
- [ ] æ— é‡å¤çš„å‡½æ•°å®ç°
- [ ] æ— æœªä½¿ç”¨çš„å¯¼å…¥å’Œå˜é‡
- [ ] æ— è°ƒè¯•ä»£ç å’Œä¸´æ—¶æ³¨é‡Š
- [ ] æ— åºŸå¼ƒæ–‡ä»¶å’Œç©ºç›®å½•
- [ ] æ‰€æœ‰TODOå’ŒFIXMEå·²å¤„ç†

### æ€§èƒ½ä¼˜åŒ–éªŒæ”¶
- [ ] æ„å»ºäº§ç‰©å¤§å°ä¼˜åŒ–ï¼ˆå‡å°‘è‡³å°‘5%ï¼‰
- [ ] æ— æœªä½¿ç”¨çš„npmä¾èµ–
- [ ] å¯¼å…¥è·¯å¾„ç®€åŒ–ä¸”é«˜æ•ˆ
- [ ] ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½ä¼˜åŒ–

### ä»£ç è´¨é‡éªŒæ”¶
- [ ] ESLintæ£€æŸ¥æ— é”™è¯¯å’Œè­¦å‘Š
- [ ] Prettieræ ¼å¼åŒ–ä¸€è‡´
- [ ] æ‰€æœ‰ç»„ä»¶æœ‰å®Œæ•´çš„JSDocæ³¨é‡Š
- [ ] å¯¼å…¥é¡ºåºç¬¦åˆè§„èŒƒ

### åŠŸèƒ½å®Œæ•´æ€§éªŒæ”¶
- [ ] æ‰€æœ‰é¡µé¢åŠŸèƒ½æ­£å¸¸
- [ ] æ‰€æœ‰ç”¨æˆ·äº¤äº’æ­£å¸¸
- [ ] æ„å»ºå’Œéƒ¨ç½²æµç¨‹æ­£å¸¸
- [ ] å¼€å‘è°ƒè¯•ä½“éªŒè‰¯å¥½

### æ–‡æ¡£å®Œæ•´æ€§éªŒæ”¶
- [ ] READMEæ–‡æ¡£æ›´æ–°å®Œæ•´
- [ ] ä»£ç æ³¨é‡Šå‡†ç¡®ä¸”æœ‰ç”¨
- [ ] å¼€å‘è§„èŒƒæ–‡æ¡£å®Œå–„
- [ ] é¡¹ç›®é…ç½®æ–‡æ¡£é½å…¨

å®Œæˆæœ¬é˜¶æ®µåï¼Œæ•´ä¸ªå‰ç«¯é‡æ„é¡¹ç›®å°†å½»åº•å®Œæˆã€‚é¡¹ç›®å°†æ‹¥æœ‰æ¸…æ´ã€ä¼˜åŒ–ã€é«˜è´¨é‡çš„ä»£ç åº“ï¼Œä¸ºåç»­çš„åŠŸèƒ½å¼€å‘å’Œç»´æŠ¤æä¾›åšå®çš„åŸºç¡€ã€‚ä»£ç è´¨é‡ã€å¼€å‘ä½“éªŒå’Œç³»ç»Ÿæ€§èƒ½éƒ½å°†å¾—åˆ°æ˜¾è‘—æå‡ã€‚